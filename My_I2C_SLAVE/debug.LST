C51 COMPILER V9.00   DEBUG                                                                 06/24/2014 09:27:04 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE DEBUG
OBJECT MODULE PLACED IN debug.OBJ
COMPILER INVOKED BY: C:\Program Files\Keil\C51\BIN\C51.EXE debug.c LARGE OPTIMIZE(9,SPEED) BROWSE ORDER NOAREGS MODAB2 D
                    -EBUG OBJECTEXTEND

line level    source

   1          #include <ADuC845.h>
   2          
   3          
   4          #include "preferences.h"
   5          #include "watchdog.h"
   6          
   7          #include "dol.h"
   8          #include "i2c_slave.h"
   9          #include "frequency.h"
  10          
  11          extern struct Channel xdata channels;//каналы по интерфейсу I2C
  12          
  13          sbit FREQ_IN_CONF=P2^0;
  14           //---------------------------------------
  15          
  16          void main(void) //using 0
  17          {                          
  18   1              EA = 0;
  19   1              
  20   1              //CFG845=0x1;//enable xram
  21   1              
  22   1              PLLCON&=PLLCON_VAL;//настройка частоты процессора
  23   1      //      ChannelsInit();//инициализация настроек каналов
  24   1              FREQ_IN_CONF=1;//подтянем на 1 джампер настройки частотного входа
  25   1      
  26   1              if(FREQ_IN_CONF==0)//джампер установлен
  27   1              {
  28   2                      channels.I2C_CHNL.channels.frequency_modific=CHNL_FREQ_256;     
  29   2              }
  30   1              else
  31   1              {
  32   2                      channels.I2C_CHNL.channels.frequency_modific=CHNL_FREQ_COUNT_T;
  33   2              }
  34   1      
  35   1              Frequency_Init(channels.I2C_CHNL.channels.frequency_modific);
  36   1      
  37   1              Dol_Init();
  38   1      
  39   1              WDT_Init(WDT_2000);//включить сторожевой таймер
  40   1      
  41   1              I2C_Slave_Init();
  42   1              EA=1;
  43   1      
  44   1              while(1)
  45   1              {               
  46   2                Frequency_Measure_Process();
  47   2                WDT_Clear();
  48   2              }
  49   1      }
  50          //-----------------------------------------------------------------------------


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     52    ----
C51 COMPILER V9.00   DEBUG                                                                 06/24/2014 09:27:04 PAGE 2   

   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
